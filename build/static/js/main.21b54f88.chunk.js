(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{78:function(n,e,t){"use strict";t.r(e);var i=t(1),r=t.n(i),c=t(22),a=t.n(c),o=t(5),s=t(16),d=t(17),b=t(43),l=t(4),u=function(n){var e=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},p=function(n){!function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(t=Object(l.a)({path:"/"},t)).expires instanceof Date&&(t.expires=t.expires.toUTCString());var i=encodeURIComponent(n)+"="+encodeURIComponent(e);for(var r in t){i+="; "+r;var c=t[r];!0!==c&&(i+="="+c)}document.cookie=i}(n,"",{"max-age":-1})},j=t(44),x=t.n(j).a.create({baseURL:"https://js-band-store-api.glitch.me"});x.interceptors.request.use((function(n){var e=u("token");return n.headers={Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},n}));var h,f,O,g,m,w,v,k,y,C,B,T,_,S,E,z,R,I,L,A,M,D,V,P,N,U,F,H,J,G,W,$,K,X,Y,q,Q,Z,nn,en,tn,rn,cn,an,on,sn,dn,bn,ln,un,pn,jn,xn,hn,fn,On,gn,mn,wn,vn,kn,yn,Cn,Bn,Tn,_n,Sn,En,zn,Rn,In,Ln,An,Mn=function(n,e,t){switch(t){case"add":return n<e?n+1:n;case"remove":return n>1?n-1:n;default:return n}},Dn=function(n,e){return Math.round(n*e*100)/100},Vn=function(n){return n.reduce((function(n,e){return Math.round(100*(n+e.currentBookTotalPrice))/100}),0)},Pn=function(n){return n.reduce((function(n,e){return n+e.addedCount}),0)},Nn=t(21),Un=function n(e,t,i){var r=this;if(Object(Nn.a)(this,n),this.addBookToCart=function(e,t,i){var c=Object.keys(r.addedBooks),a={title:e.title,price:e.price,availableCount:e.count,canUserIncreaseBooksCount:t!==e.count,canUserDecreaseBooksCount:1!==t,addedCount:t,currentBookTotalPrice:i};c&&r.addedBooks[e.id]?(r.addedBooks[e.id].addedCount+=t,r.addedBooks[e.id].currentBookTotalPrice=Dn(r.addedBooks[e.id].price,r.addedBooks[e.id].addedCount),r.addedBooks[e.id].canUserIncreaseBooksCount=r.addedBooks[e.id].addedCount!==r.addedBooks[e.id].availableCount,r.addedBooks[e.id].canUserDecreaseBooksCount=1!==r.addedBooks[e.id].addedCount):r.addedBooks[e.id]=a;var o=Object.values(r.addedBooks);return r.totalPrice=Vn(o),r.totalCount=Pn(o),n._instance},this.removeBookFromCart=function(e){var t=Object.entries(r.addedBooks).filter((function(n){return+n[0]!==+e}));r.addedBooks=Object.fromEntries(t);var i=Object.values(r.addedBooks);return r.totalPrice=Vn(i),r.totalCount=Pn(i),n._instance},this.editCountOfOneBookDuplicates=function(e,t){var i=Mn(r.addedBooks[e].addedCount,r.addedBooks[e].availableCount,t),c=i!==r.addedBooks[e].availableCount,a=1!==i;r.addedBooks[e].canUserIncreaseBooksCount=c,r.addedBooks[e].canUserDecreaseBooksCount=a,r.addedBooks[e].addedCount=i,r.addedBooks[e].currentBookTotalPrice=Dn(r.addedBooks[e].price,i);var o=Object.values(r.addedBooks);return r.totalPrice=Vn(o),r.totalCount=Pn(o),n._instance},this.clearCart=function(){return r.addedBooks={},r.totalPrice=0,r.totalCount=0,n._instance},n._instance)return n._instance;n._instance=this,this.addedBooks=e,this.totalPrice=t,this.totalCount=i},Fn=function(){var n=JSON.parse(localStorage.getItem("addedToCartBooks"));return n?new Un(n.addedBooks,n.totalPrice,n.totalCount):new Un({},0,0)},Hn="START_LOGIN",Jn="LOGIN",Gn="LOGOUT",Wn="SHOW_RESPONSE_ERROR_MESSAGE",$n="HIDE_RESPONSE_ERROR_MESSAGE",Kn="SHOW_CONFIRM_LOGOUT_MODAL",Xn="HIDE_CONFIRM_LOGOUT_MODAL",Yn="SHOW_CONFIRM_CLEAR_CART_MODAL",qn="HIDE_CONFIRM_CLEAR_CART_MODAL",Qn="SHOW_ADDED_BOOK_TO_CART_MODAL",Zn="HIDE_ADDED_BOOK_TO_CART_MODAL",ne="SHOW_PURCHASE_MODAL",ee="HIDE_PURCHASE_MODAL",te="START_LOADING",ie="GET_ALL_BOOKS",re="SET_CURRENT_BOOK_INFO",ce="STOP_LOADING",ae="ADD_NEW_BOOK_TO_CART",oe="REMOVE_BOOK_FROM_CART",se="EDIT_BOOKS_COUNT",de="CLEAR_CART",be="SEND_PURCHASE_REQUEST",le="GET_PURCHASE_REQUEST",ue=u("token"),pe=JSON.parse(localStorage.getItem("activeUser")),je={isLoggedIn:!!ue&&!!pe,isLoading:!1},xe={isResponseErrorMessageVisible:!1},he={isConfirmLogoutModalVisible:!1,isConfirmClearCartModalVisible:!1,isAddedBookToCartModalVisible:!1,isPurchaseModalVisible:!1},fe={isLoading:!0,allBooks:[],currentBookInfo:{}},Oe=Fn(),ge={addedBooks:Oe.addedBooks,totalPrice:Oe.totalPrice,totalCount:Oe.totalCount,purchaseMessage:"",isLoading:!1},me=function(n,e){return Object(l.a)(Object(l.a)({},n),{},{addedBooks:e.payload.addedBooks,totalPrice:e.payload.totalPrice,totalCount:e.payload.totalCount})},we=Object(d.c)({login:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Hn:return Object(l.a)(Object(l.a)({},n),{},{isLoading:!0});case Jn:return Object(l.a)(Object(l.a)({},n),{},{isLoggedIn:!0,isLoading:!1});case Gn:return Object(l.a)(Object(l.a)({},n),{},{isLoggedIn:!1});default:return n}},serverCommunication:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Wn:return Object(l.a)(Object(l.a)({},n),{},{isResponseErrorMessageVisible:!0});case $n:return Object(l.a)(Object(l.a)({},n),{},{isResponseErrorMessageVisible:!1});default:return n}},modals:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Kn:return Object(l.a)(Object(l.a)({},n),{},{isConfirmLogoutModalVisible:!0});case Xn:return Object(l.a)(Object(l.a)({},n),{},{isConfirmLogoutModalVisible:!1});case Yn:return Object(l.a)(Object(l.a)({},n),{},{isConfirmClearCartModalVisible:!0});case qn:return Object(l.a)(Object(l.a)({},n),{},{isConfirmClearCartModalVisible:!1});case Qn:return Object(l.a)(Object(l.a)({},n),{},{isAddedBookToCartModalVisible:!0});case Zn:return Object(l.a)(Object(l.a)({},n),{},{isAddedBookToCartModalVisible:!1});case ne:return Object(l.a)(Object(l.a)({},n),{},{isPurchaseModalVisible:!0});case ee:return Object(l.a)(Object(l.a)({},n),{},{isPurchaseModalVisible:!1});default:return n}},books:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case te:return Object(l.a)(Object(l.a)({},n),{},{isLoading:!0});case ie:return Object(l.a)(Object(l.a)({},n),{},{allBooks:e.payload});case ce:return Object(l.a)(Object(l.a)({},n),{},{isLoading:!1});case re:return Object(l.a)(Object(l.a)({},n),{},{currentBookInfo:e.payload});default:return n}},cart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ae:case se:case oe:case de:return me(n,e);case be:return Object(l.a)(Object(l.a)({},n),{},{isLoading:!0});case le:return Object(l.a)(Object(l.a)({},n),{},{isLoading:!1});case"":return Object(l.a)(Object(l.a)({},n),{},{purchaseMessage:e.payload});case"":return Object(l.a)(Object(l.a)({},n),{},{purchaseMessage:""});default:return n}}}),ve=t(7),ke=t.n(ve),ye=t(9),Ce=t(25),Be=t(23),Te=t(49),_e=t(48),Se=function n(){Object(Nn.a)(this,n),this.getResponse=function(){var n=Object(ye.a)(ke.a.mark((function n(e,t,i){return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e;case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),t(i());case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t,i){return n.apply(this,arguments)}}()},Ee=function(n){Object(Te.a)(t,n);var e=Object(_e.a)(t);function t(){var n;return Object(Nn.a)(this,t),(n=e.call(this)).login=function(){var e=Object(ye.a)(ke.a.mark((function e(t,i){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t},e.next=3,n.getResponse(x.post("/signin",JSON.stringify(r)),i,Le);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.getAllBooks=function(){var e=Object(ye.a)(ke.a.mark((function e(t){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getResponse(x.get("/books"),t,Ie);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.getCurrentBookInfo=function(){var e=Object(ye.a)(ke.a.mark((function e(t,i){return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getResponse(x.get("/books/".concat(t)),i,Ie);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.purchase=function(){var e=Object(ye.a)(ke.a.mark((function e(t,i){var r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={books:t},e.next=3,n.getResponse(x.post("/purchase",JSON.stringify(r)),i,Ie);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t._instance?Object(Ce.a)(n,t._instance):(t._instance=Object(Be.a)(n),n)}return t}(Se),ze=Ee,Re=new ze,Ie=function(){return p("token"),localStorage.removeItem("activeUser"),function(n){n(Je()),n({type:Gn})}},Le=function(){return{type:Wn}},Ae=function(){return{type:$n}},Me=function(){return{type:Xn}},De=function(){return{type:qn}},Ve=function(){return{type:Zn}},Pe=function(){return{type:te}},Ne=function(){return{type:ce}},Ue=Fn(),Fe=function(n,e){var t={addedBooks:n.addedBooks,totalPrice:n.totalPrice,totalCount:n.totalCount};return localStorage.setItem("addedToCartBooks",JSON.stringify(t)),{type:e,payload:{addedBooks:n.addedBooks,totalPrice:n.totalPrice,totalCount:n.totalCount}}},He=function(n,e){var t=Ue.editCountOfOneBookDuplicates(n,e);return function(n){n(Fe(t,se))}},Je=function(){var n=Ue.clearCart();return function(e){e(Fe(n,de))}},Ge=t(8),We=t(14),$e=t(24),Ke="#009898",Xe="#ffffff",Ye="#464646",qe="#cccccc",Qe="#ff0000",Ze="#ffe2d9",nt="#be1036",et="#4B0082",tt=t.p+"static/media/error-icon.9b3ca0a0.svg",it=t.p+"static/media/hide-error-message.385c64ed.svg",rt=(t.p,t.p+"static/media/logoutIcon.975da757.svg"),ct=t.p+"static/media/searchIcon.180f4a6d.svg",at=t.p+"static/media/angleDownIcon.20f1f5d3.svg",ot=t.p+"static/media/bookIcon.1ed0472e.svg",st=t.p+"static/media/plusIcon.241dfa5b.svg",dt=t.p+"static/media/minusIcon.7d86b950.svg",bt=t.p+"static/media/trash.57b10621.svg",lt=t(3),ut=t(2),pt=ut.b.div(h||(h=Object(lt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  background: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 5%;\n  z-index: 9999;\n  transform: ",";\n  transition: transform .5s;\n"])),Ze,(function(n){return n.show?"translateY(0)":"translateY(-100%)"})),jt=ut.b.div(f||(f=Object(lt.a)(["\n  display: flex;\n  align-items: center;\n"]))),xt=ut.b.img(O||(O=Object(lt.a)(["\n  width: 15px;\n  height: 15px;\n"]))),ht=ut.b.p(g||(g=Object(lt.a)(["\n  font-size: 14px;\n  color: ",";\n  margin-left: 10px;\n"])),Qe),ft=ut.b.button(m||(m=Object(lt.a)(["\n  background: none;\n  border: none;\n  width: 15px;\n  height: 15px;\n  margin-left: 10px;\n"]))),Ot=ut.b.img(w||(w=Object(lt.a)(["\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n"]))),gt=t(0),mt=function(n){return function(){var e=Object(o.b)(),t=Object(o.c)((function(n){return n.serverCommunication})).isResponseErrorMessageVisible;return Object(i.useEffect)((function(){var n;return t&&(n=setTimeout((function(){e(Ae())}),1e4)),function(){t&&clearTimeout(n)}}),[t]),Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsx)(n,{}),Object(gt.jsxs)(pt,{show:t,children:[Object(gt.jsxs)(jt,{children:[Object(gt.jsx)(xt,{src:tt}),Object(gt.jsx)(ht,{children:"Ooooops. Something went wrong. Try again a little bit later."})]}),Object(gt.jsx)(ft,{onClick:function(){return e(Ae())},children:Object(gt.jsx)(Ot,{src:it})})]})]})}},wt=ut.b.div(v||(v=Object(lt.a)(["\n  position: relative;\n"]))),vt=ut.b.label(k||(k=Object(lt.a)(["\n  display: block;\n  font-size: 15px;\n  margin: 0 0 10px 5px;\n  \n  ",";\n"])),(function(n){return"login"===n.fieldType?"\n    color: ".concat(!n.isValid&&n.isTouched?Qe:Ke,";\n  "):"search"===n.fieldType?"\n    color: ".concat(Ye,";\n    font-weight: 600;\n  "):""})),kt=ut.b.input(y||(y=Object(lt.a)(["\n  width: 100%;\n  font-size: 14px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  \n  &::placeholder {\n    color: ",";\n  }\n\n  ",";\n"])),Ye,(function(n){return"login"===n.fieldType?"\n    border: 2px solid ".concat(!n.isValid&&n.isTouched?Qe:Ke,";\n    padding: 10px 15px;\n  "):"search"===n.fieldType?"\n    border: 2px solid ".concat(Ye,";\n    padding: 10px 15px 10px 35px;\n  "):""})),yt=ut.b.p(C||(C=Object(lt.a)(["\n  font-size: 12px;  \n  color: ",";\n  margin: 5px 5px 0 0;\n  text-align: right;\n  opacity: ",";\n"])),Qe,(function(n){return!n.isValid&&n.isTouched?1:0})),Ct=ut.b.img(B||(B=Object(lt.a)(["\n  display: ",";\n  width: 17px;\n  height: 17px;\n  position: absolute;\n  top: 58%;\n  left: 15px;\n"])),(function(n){return"search"===n.fieldType?"block":"none"})),Bt=function(n){return Object(gt.jsxs)(wt,{children:[Object(gt.jsx)(vt,{fieldType:n.fieldType,isValid:n.isValid,isTouched:n.isTouched,children:n.label}),Object(gt.jsx)(kt,{type:n.type,fieldType:n.fieldType,value:n.value,isValid:n.isValid,isTouched:n.isTouched,placeholder:n.placeholder,onChange:n.onChange,onBlur:n.onBlur}),Object(gt.jsx)(Ct,{src:ct,fieldType:n.fieldType}),Object(gt.jsx)(yt,{isValid:n.isValid,isTouched:n.isTouched,children:n.errorMessage})]})},Tt=ut.b.button(T||(T=Object(lt.a)(["\n  text-transform: uppercase;\n  padding: 10px 15px;\n  width: 100%;\n  box-sizing: border-box;\n  border: none;\n  color: ",";\n  font-size: 16px;\n  border-radius: 10px;\n  background: ",";\n  cursor: pointer;\n  \n  ",";\n  \n  @media screen and (max-width: 384px) {\n    font-size: 14px;\n  }\n"])),Xe,Ke,(function(n){return"purple"===n.btnType&&"background: ".concat(nt)})),_t=function(n){return Object(gt.jsx)(Tt,{btnType:n.btnType,onClick:n.onClick,children:n.children})},St=ut.b.div(_||(_=Object(lt.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, .6);\n  display: ",";\n  z-index: 9999;\n"])),(function(n){return n.show?"block":"none"})),Et=ut.b.div(S||(S=Object(lt.a)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  padding: 20px;\n  background: ",";\n  border-radius: 10px;\n  width: 80%;\n  max-width: 350px;\n  max-height: 80vh;\n  overflow: auto;\n"])),qe),zt=function(n){var e=n.children,t=n.show;return Object(gt.jsx)(St,{show:t,children:Object(gt.jsx)(Et,{children:e})})},Rt=ut.b.label(E||(E=Object(lt.a)(["\n  display: block;\n  font-size: 15px;\n  margin: 0 0 10px 5px;\n  color: ",";\n  font-weight: 600;\n"])),Ye),It=ut.b.select(z||(z=Object(lt.a)(["\n  width: 100%;\n  padding: 10px 15px;\n  border: 2px solid ",";\n  font-size: 14px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  background: ",";\n"])),Ye,Xe),Lt=ut.b.option(R||(R=Object(lt.a)([""]))),At=function(n){return Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsx)(Rt,{children:n.label}),Object(gt.jsx)(It,{value:n.value,onChange:n.onChange,children:i.Children.toArray(n.optionsArr.map((function(n){return Object(gt.jsx)(Lt,{children:n})})))})]})},Mt=ut.b.div(I||(I=Object(lt.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),Dt=function(){return Object(gt.jsx)(Mt,{children:Object(gt.jsx)($e.a,{color:"#fff"})})},Vt=ut.b.div(L||(L=Object(lt.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n"]))),Pt=ut.b.div(A||(A=Object(lt.a)(["\n  width: 90%;\n  max-width: 450px;\n  background: ",";\n  padding: 20px;\n  border-radius: 15px;\n  box-sizing: border-box;\n"])),qe),Nt=ut.b.h2(M||(M=Object(lt.a)(["\n  font-size: 30px;\n  text-align: center;\n  margin-bottom: 20px;\n\n  @media screen and (max-width: 468px) {\n    font-size: 24px;\n  }\n\n  @media screen and (max-width: 384px) {\n    font-size: 20px;\n  }\n\n  @media screen and (max-width: 327px) {\n    font-size: 19px;\n  }\n"]))),Ut=ut.b.form(D||(D=Object(lt.a)([""]))),Ft=ut.b.div(V||(V=Object(lt.a)(["\n  margin-top: 20px;\n"]))),Ht=mt((function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.login})).isLoading,t=Object(i.useState)({value:"",isValid:!1,isTouched:!1,errorMessage:"Enter the field",rules:{required:!0,minLength:4,maxLength:16}}),r=Object(We.a)(t,2),c=r[0],a=r[1],s=function(n,e){var t,i=Object(l.a)({},c);i.value=n.target.value,i.isValid=function(n,e){var t=!0;return e.required&&(t=""!==n.trim()&&t),e.minLength&&(t=n.trim().length>=e.minLength&&t),e.maxLength&&(t=n.trim().length<=e.maxLength&&t),t}(i.value,i.rules),i.errorMessage=(t=i.value).length>0&&t.length<=4||t.length>16?"Username is not valid":0===t.length?"Enter the field":"No error",e&&(i.isTouched=!0),a(i)};return Object(gt.jsx)(Vt,{children:e?Object(gt.jsx)($e.a,{color:"#fff"}):Object(gt.jsxs)(Pt,{children:[Object(gt.jsx)(Nt,{children:"Welcome to JS Band Store"}),Object(gt.jsxs)(Ut,{children:[Object(gt.jsx)(Bt,{type:"text",fieldType:"login",label:"Name",placeholder:"John Adams",value:c.value,isValid:c.isValid,isTouched:c.isTouched,errorMessage:c.errorMessage,onChange:function(n){s(n)},onBlur:function(n){s(n,!0)}}),Object(gt.jsx)(Ft,{children:Object(gt.jsx)(_t,{onClick:function(e){e.preventDefault();var t,i=Object(l.a)({},c);i.isTouched=!0,i.isValid&&n((t=i.value,function(){var n=Object(ye.a)(ke.a.mark((function n(e){var i,r;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e({type:Hn}),n.next=3,Re.login(t,e);case 3:(i=n.sent)&&i.data.token&&(document.cookie="token=".concat(i.data.token),r={name:i.data.username,avatar:i.data.avatar},localStorage.setItem("activeUser",JSON.stringify(r)),e({type:Jn}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),a(i)},children:"Log in"})})]})]})})})),Jt=ut.b.h2(P||(P=Object(lt.a)(["\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 30px;\n"]))),Gt=ut.b.div(N||(N=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Wt=ut.b.div(U||(U=Object(lt.a)(["\n  width: 47%;  \n"]))),$t=function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.modals})).isConfirmLogoutModalVisible;return Object(gt.jsxs)(zt,{show:e,children:[Object(gt.jsx)(Jt,{children:"Do you really want to logout?"}),Object(gt.jsxs)(Gt,{children:[Object(gt.jsx)(Wt,{onClick:function(){return n(Me())},children:Object(gt.jsx)(_t,{children:"No"})}),Object(gt.jsx)(Wt,{onClick:function(){n(Ie()),n(Ae()),n(Me())},children:Object(gt.jsx)(_t,{children:"Yes"})})]})]})},Kt=function(n,e){var t=[];return"No filters"===n?e:("0 < price < 25"===n?(t=[],e.filter((function(n){n.price>0&&n.price<=25&&t.push(n)}))):"25 < price < 50"===n?(t=[],e.filter((function(n){n.price>25&&n.price<=50&&t.push(n)}))):"price > 50"===n&&(t=[],e.filter((function(n){n.price>50&&t.push(n)}))),t)},Xt=function(n,e){if(n.trim()){var t=[];return e.filter((function(e){e.title.toLowerCase().startsWith(n.toLowerCase().trim())&&t.push(e)})),t}return e},Yt=ut.b.div(F||(F=Object(lt.a)(["\n  position: relative;\n"]))),qt=ut.b.div(H||(H=Object(lt.a)(["\n  display: inline-flex;\n  margin-bottom: 15px;\n  cursor: pointer;  \n\n  @media screen and (min-width: 401px) {\n    display: none;\n  }\n"]))),Qt=ut.b.h3(J||(J=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 600;\n  margin-right: 10px;\n"]))),Zt=ut.b.button(G||(G=Object(lt.a)(["\n  background: none;\n  border: none;\n  height: 12px;\n  position: relative;\n  top: 3px;\n  cursor: pointer;\n"]))),ni=ut.b.img(W||(W=Object(lt.a)(["\n  width: 12px;\n  transform: ",";\n  transition: transform 1s;\n"])),(function(n){return n.areFiltersVisible?"rotate(0)":"rotate(-90deg)"})),ei=ut.b.div($||($=Object(lt.a)(["\n  display: flex;\n  overflow: hidden;\n  margin-bottom: 30px;\n  justify-content: space-between;\n\n  @media screen and (max-width: 400px) {\n    flex-direction: column;\n    align-items: center; \n    max-height: ",";\n    transition: max-height 1s ease-in-out;\n  }\n"])),(function(n){return n.areFiltersVisible?"500px":0})),ti=ut.b.div(K||(K=Object(lt.a)(["\n  width: 47%;\n  max-width: 300px;\n  \n  &:first-of-type {\n    margin-right: 20px;\n  }\n\n  @media screen and (max-width: 710px) {\n    &:first-of-type {\n      margin-right: 0;\n    }\n  }\n\n  @media screen and (max-width: 400px) {\n    width: 100%;\n\n    &:first-of-type {\n      margin-bottom: 20px;\n    }\n  }\n"]))),ii=function(n){var e=n.filterBooksFnc,t=Object(i.useState)((function(){return window.innerWidth>400})),r=Object(We.a)(t,2),c=r[0],a=r[1],s=Object(o.c)((function(n){return n.books})).allBooks,d=Object(i.useState)({search:{value:""},priceSelect:{value:"No filters"}}),b=Object(We.a)(d,2),u=b[0],p=b[1],j=function(){var n=Object(ye.a)(ke.a.mark((function n(t){var i,r,c;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(i=Object(l.a)({},u)).search.value=t.target.value,r=Kt(i.priceSelect.value,s),c=Xt(i.search.value,r),e(c),p(i);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(gt.jsxs)(Yt,{children:[Object(gt.jsxs)(qt,{areFiltersVisible:c,onClick:function(){a((function(n){return!n}))},children:[Object(gt.jsx)(Qt,{children:"Filters"}),Object(gt.jsx)(Zt,{children:Object(gt.jsx)(ni,{src:at,areFiltersVisible:c})})]}),Object(gt.jsxs)(ei,{areFiltersVisible:c,children:[Object(gt.jsx)(ti,{children:Object(gt.jsx)(Bt,{type:"text",fieldType:"search",label:"Search by name",placeholder:"book name",value:u.search.value,onChange:j})}),Object(gt.jsx)(ti,{children:Object(gt.jsx)(At,{value:u.priceSelect.value,label:"Filter by price",optionsArr:["No filters","0 < price < 25","25 < price < 50","price > 50"],onChange:function(n){var t=Object(l.a)({},u);t.priceSelect.value=n.target.value;var i=Xt(t.search.value,s),r=Kt(t.priceSelect.value,i);e(r),p(t)}})})]})]})},ri=ut.b.div(X||(X=Object(lt.a)(["\n  width: 33.33%;\n  padding: 0 10px;\n  box-sizing: border-box;\n  \n  @media screen and (max-width: 730px) {\n    width: 50%;\n  }\n\n  @media screen and (max-width: 400px) {\n    width: 100%;\n  }\n"]))),ci=ut.b.div(Y||(Y=Object(lt.a)(["\n  padding: 15px;\n  background: ",";\n  border-radius: 5px;\n  box-sizing: border-box;\n  color: ",";\n  margin-bottom: 20px;\n"])),et,Xe),ai=ut.b.div(q||(q=Object(lt.a)(["\n  height: 240px;\n  overflow: hidden;\n  border-radius: 5px;\n  box-shadow: 3px 13px 12px -8px rgba(34, 60, 80, .5);\n  margin-bottom: 15px;\n  background: ",";\n  \n  @media screen and (max-width: 730px) {\n    height: calc(50vw - 90px);\n  }\n\n  @media screen and (max-width: 400px) {\n    height: 240px;\n  }\n"])),(function(n){return'url("'.concat(n.bookCover,'") no-repeat 50% 50%/cover')})),oi=ut.b.h3(Q||(Q=Object(lt.a)(["\n  font-size: 16px;\n  white-space: nowrap; \n  overflow: hidden; \n  text-overflow: ellipsis;\n  margin-bottom: 15px;\n"]))),si=ut.b.h4(Z||(Z=Object(lt.a)(["\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-bottom: 20px;\n"]))),di=ut.b.div(nn||(nn=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),bi=ut.b.span(en||(en=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 600;\n"]))),li=ut.b.div(tn||(tn=Object(lt.a)([""]))),ui=function(n){var e=n.book,t=Object(Ge.f)();return Object(gt.jsx)(ri,{children:Object(gt.jsxs)(ci,{children:[Object(gt.jsx)(ai,{bookCover:e.cover}),Object(gt.jsx)(oi,{children:e.title}),Object(gt.jsx)(si,{children:e.author}),Object(gt.jsxs)(di,{children:[Object(gt.jsxs)(bi,{children:[e.price,"$"]}),Object(gt.jsx)(li,{children:Object(gt.jsx)(_t,{onClick:function(){return t.push("/catalog/".concat(e.id))},children:"View"})})]})]})})},pi=function(n,e,t,i,r){var c=Object.entries(n).filter((function(n){if(n[0]===e.id)return n}));if(c.length){var a=c[0][1].addedCount;e.count-a===0&&(t(0),i(!1),r(0)),e.count-a>=1&&r(e.price),e.count-a===1&&i(!1)}else t(1),i(!0),r(e.price)},ji=ut.b.div(rn||(rn=Object(lt.a)(["\n  width: 100%;\n  height: fit-content;\n  padding: 15px;\n  background: ",";\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  box-sizing: border-box;\n"])),qe),xi=ut.b.div(cn||(cn=Object(lt.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  margin-bottom: 15px;\n"]))),hi=ut.b.p(an||(an=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 700;\n"]))),fi=ut.b.p(on||(on=Object(lt.a)(["\n  font-size: 16px;\n"]))),Oi=ut.b.div(sn||(sn=Object(lt.a)(["\n  width: fit-content;\n  margin-top: 25px;\n"]))),gi=ut.b.div(dn||(dn=Object(lt.a)(["\n  display: flex;\n  width: 100px;\n  justify-content: space-between;\n"]))),mi=ut.b.p(bn||(bn=Object(lt.a)(["\n  font-size: 16px;\n  margin: 0 10px;\n"]))),wi=ut.b.button(ln||(ln=Object(lt.a)(["\n  background: ",";\n  border: none;\n  cursor: ",";\n  height: 22px;\n  width: 22px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(n){return n.canIncreaseBooksAmount||n.canDecreaseBooksAmount?Ke:Ye}),(function(n){return n.canIncreaseBooksAmount||n.canDecreaseBooksAmount?"pointer":"not-allowed"})),vi=ut.b.img(un||(un=Object(lt.a)(["\n  width: 12px;\n"]))),ki=function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.books})).currentBookInfo,t=Object(o.c)((function(n){return n.cart.addedBooks})),r=Object(i.useState)(0),c=Object(We.a)(r,2),a=c[0],s=c[1],d=Object(i.useState)(1),b=Object(We.a)(d,2),l=b[0],u=b[1],p=Object(i.useState)(!0),j=Object(We.a)(p,2),x=j[0],h=j[1],f=Object(i.useState)(!1),O=Object(We.a)(f,2),g=O[0],m=O[1];Object(i.useEffect)((function(){pi(t,e,u,h,s)}),[e]);var w=function(n){var i=function(n,e,t,i,r){var c;if(n.length){var a=n[0][1].addedCount;(c=Mn(e,t.count-a,r))===t.count-a?i(!1):c<t.count-a&&i(!0)}else(c=Mn(e,t.count,r))===t.count?i(!1):c<t.count&&i(!0);return c}(Object.entries(t).filter((function(n){if(n[0]===e.id)return n})),l,e,h,n);if(i){var r=Dn(e.price,i);s(r)}i>1?m(!0):1===i&&m(!1),u(i)};return Object(gt.jsxs)(ji,{children:[Object(gt.jsxs)(xi,{children:[Object(gt.jsx)(hi,{children:"Price, $ "}),Object(gt.jsx)(fi,{children:e.price})]}),Object(gt.jsxs)(xi,{children:[Object(gt.jsx)(hi,{children:"Count"}),Object(gt.jsxs)(gi,{children:[Object(gt.jsx)(wi,{canIncreaseBooksAmount:x,onClick:function(){return w("add")},children:Object(gt.jsx)(vi,{src:st})}),Object(gt.jsx)(mi,{children:l}),Object(gt.jsx)(wi,{canDecreaseBooksAmount:g,onClick:function(){return w("remove")},children:Object(gt.jsx)(vi,{src:dt})})]})]}),Object(gt.jsxs)(xi,{children:[Object(gt.jsx)(hi,{children:"Total price, $"}),Object(gt.jsx)(fi,{children:a})]}),Object(gt.jsx)(Oi,{children:Object(gt.jsx)(_t,{onClick:function(){l&&(n({type:Qn}),n(function(n,e,t){var i=Ue.addBookToCart(n,e,t);return function(n){n(Fe(i,ae))}}(e,l,a)),u(1),m(!1),pi(t,e,u,h,s))},children:"Add to Cart"})})]})},yi=ut.b.div(pn||(pn=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  background: ",";\n  padding: 10px;\n  \n  ",";\n\n  &:last-of-type {\n    border: none;\n  }\n"])),Ye,qe,(function(n){return n.allBooks.length>1?"\n    &:first-of-type {\n      border-radius: 5px 5px 0 0;\n    }\n    \n    &:last-of-type {\n      border-radius: 0 0 5px 5px;\n    }\n  ":"border-radius: 5px"})),Ci=Object(ut.b)(s.b)(jn||(jn=Object(lt.a)(["\n  max-width: 60%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 18px;\n  color: ",";\n  font-weight: 700;\n  text-decoration: none;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n\n  @media screen and (max-width: 650px) {\n    max-width: 50%;\n  }\n\n  @media screen and (max-width: 649px) {\n    font-size: 14px;\n  }\n\n  @media screen and (max-width: 550px) {\n    width: 40%;\n  }\n"])),Ye),Bi=ut.b.div(xn||(xn=Object(lt.a)(["\n  width: 20%;\n  display: flex;\n  justify-content: space-between;\n  \n  @media screen and (max-width: 1150px) {\n    width: 25%;\n  }\n\n  @media screen and (max-width: 900px) {\n    width: 30%;\n  }\n\n  @media screen and (max-width: 750px) {\n    width: 35%;\n  }\n\n  @media screen and (max-width: 650px) {\n    width: 40%;\n  }\n\n  @media screen and (max-width: 550px) {\n    width: 50%;\n  }\n\n  @media screen and (max-width: 450px) {\n    width: 55%;\n  }\n"]))),Ti=ut.b.div(hn||(hn=Object(lt.a)(["\n  width: 100px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  @media screen and (max-width: 450px) {\n    width: 80px;\n  }\n\n  @media screen and (max-width: 350px) {\n    width: 65px;\n  }\n"]))),_i=ut.b.button(fn||(fn=Object(lt.a)(["\n  background: ",";\n  border: none;\n  cursor: ",";\n  height: 22px;\n  width: 22px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (max-width: 350px) {\n    width: 18px;\n    height: 18px;\n  }\n"])),(function(n){return n.canIncreaseBooksCount||n.canDecreaseBooksCount?Ke:Ye}),(function(n){return n.canIncreaseBooksCount||n.canDecreaseBooksCount?"pointer":"not-allowed"})),Si=ut.b.img(On||(On=Object(lt.a)(["\n  width: 12px;\n"]))),Ei=ut.b.p(gn||(gn=Object(lt.a)(["\n  font-size: 16px;\n  margin: 0 5px;\n  font-weight: 600;\n\n  @media screen and (max-width: 649px) {\n    font-size: 14px;\n  }\n"]))),zi=ut.b.p(mn||(mn=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 600;\n\n  @media screen and (max-width: 649px) {\n    font-size: 14px;\n  }\n"]))),Ri=ut.b.button(wn||(wn=Object(lt.a)(["\n  background: none;\n  border: none;\n  height: 20px;\n  cursor: pointer;\n"]))),Ii=ut.b.img(vn||(vn=Object(lt.a)(["\n  width: 18px;\n\n  @media screen and (max-width: 350px) {\n    width: 15px;\n  }\n"]))),Li=function(n){var e=n.book,t=n.allBooks,i=Object(o.b)();return Object(gt.jsxs)(yi,{allBooks:t,children:[Object(gt.jsx)(Ci,{to:"catalog/".concat(e.id),children:e.title}),Object(gt.jsxs)(Bi,{children:[Object(gt.jsxs)(Ti,{children:[Object(gt.jsx)(_i,{canIncreaseBooksCount:e.canUserIncreaseBooksCount,onClick:function(){return i(He(e.id,"add"))},children:Object(gt.jsx)(Si,{src:st})}),Object(gt.jsx)(Ei,{children:e.addedCount}),Object(gt.jsx)(_i,{canDecreaseBooksCount:e.canUserDecreaseBooksCount,onClick:function(){return i(He(e.id,"remove"))},children:Object(gt.jsx)(Si,{src:dt})})]}),Object(gt.jsxs)(zi,{children:[e.currentBookTotalPrice,"$"]}),Object(gt.jsx)(Ri,{onClick:function(){return i(function(n){var e=Ue.removeBookFromCart(n);return function(n){n(Fe(e,oe))}}(e.id))},children:Object(gt.jsx)(Ii,{src:bt})})]})]})},Ai=ut.b.h2(kn||(kn=Object(lt.a)(["\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 30px;\n"]))),Mi=ut.b.div(yn||(yn=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Di=ut.b.div(Cn||(Cn=Object(lt.a)(["\n  width: 47%;  \n"]))),Vi=function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.modals})).isConfirmClearCartModalVisible;return Object(gt.jsxs)(zt,{show:e,children:[Object(gt.jsx)(Ai,{children:"Do you really want to clear the cart?"}),Object(gt.jsxs)(Mi,{children:[Object(gt.jsx)(Di,{children:Object(gt.jsx)(_t,{onClick:function(){return n(De())},children:"No"})}),Object(gt.jsx)(Di,{children:Object(gt.jsx)(_t,{onClick:function(){n(Je()),n(De())},children:"Yes"})})]})]})},Pi=ut.b.h2(Bn||(Bn=Object(lt.a)(["\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 30px;\n"]))),Ni=function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.modals})).isAddedBookToCartModalVisible;return Object(i.useEffect)((function(){if(e){var t=setTimeout((function(){n(Ve())}),5e3);return function(){return clearTimeout(t)}}}),[e]),Object(gt.jsxs)(zt,{show:e,children:[Object(gt.jsx)(Pi,{children:"Book was successfully added to cart"}),Object(gt.jsx)(_t,{onClick:function(){return n(Ve())},children:"Close"})]})},Ui=ut.b.div(Tn||(Tn=Object(lt.a)(["\n  display: flex;\n  box-sizing: border-box;\n"]))),Fi=ut.b.p(_n||(_n=Object(lt.a)(["\n  width: 60%;\n  font-size: 13px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 5px;\n  box-sizing: border-box;\n  border: 1px solid ",";\n  border-top: none;\n  \n  ",";\n  \n  @media screen and (max-width: 490px) {\n    width: 50%;\n  }\n"])),Ye,(function(n){return n.firstRow?"\n    text-align: center;\n    background: ".concat(Ke,";\n    color: ").concat(Xe,";\n    border-top: 1px solid ").concat(Ye,";\n  "):""})),Hi=ut.b.div(Sn||(Sn=Object(lt.a)(["\n  width: 40%;\n  display: flex;\n\n  @media screen and (max-width: 490px) {\n    width: 50%;\n  }\n"]))),Ji=ut.b.p(En||(En=Object(lt.a)(["\n  padding: 5px;\n  font-size: 13px;\n  width: 50%;\n  text-align: center;\n  border: 1px solid ",";\n  border-top: none;\n  border-left: none;\n\n  ",";\n"])),Ye,(function(n){return n.firstRow?"\n    background: ".concat(Ke,";\n    color: ").concat(Xe,";\n    border-top: 1px solid ").concat(Ye,";\n  "):""})),Gi=ut.b.p(zn||(zn=Object(lt.a)(["\n  padding: 5px;\n  font-size: 13px;\n  width: 50%;\n  text-align: center;\n  border: 1px solid ",";\n  border-top: none;\n  border-left: none;\n\n  ",";\n"])),Ye,(function(n){return n.firstRow?"\n    background: ".concat(Ke,";\n    color: ").concat(Xe,";\n    border-top: 1px solid ").concat(Ye,";\n  "):""})),Wi=function(n){var e=n.book,t=n.firstRow;return Object(gt.jsxs)(Ui,{children:[Object(gt.jsx)(Fi,{firstRow:t,children:t?"Title":e.title}),Object(gt.jsxs)(Hi,{children:[Object(gt.jsx)(Ji,{firstRow:t,children:t?"Count":e.addedCount}),Object(gt.jsx)(Gi,{firstRow:t,children:t?"Total":e.currentBookTotalPrice})]})]})},$i=ut.b.h2(Rn||(Rn=Object(lt.a)(["\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 30px;\n"]))),Ki=ut.b.div(In||(In=Object(lt.a)(["\n  margin-bottom: 10px;\n"]))),Xi=ut.b.p(Ln||(Ln=Object(lt.a)(["\n  font-size: 13px;\n  text-align: right;\n  margin-bottom: 25px;\n"]))),Yi=function(){var n=Object(o.b)(),e=Object(Ge.f)(),t=Object(o.c)((function(n){return n.cart})),i=t.addedBooks,r=t.totalPrice,c=t.purchaseMessage,a=Object(o.c)((function(n){return n.modals})).isPurchaseModalVisible,s=Object.entries(i).map((function(n){return n[1].id=n[0],n[1]}));return c?Object(gt.jsxs)(zt,{show:a,children:[Object(gt.jsx)($i,{children:c}),Object(gt.jsxs)(Ki,{children:[Object(gt.jsx)(Wi,{firstRow:!0}),s.map((function(n){return Object(gt.jsx)(Wi,{book:n,allBooks:s},n.id)}))]}),Object(gt.jsxs)(Xi,{children:["Total price: ",r,"$"]}),Object(gt.jsx)(_t,{onClick:function(){n({type:ee}),e.push("/catalog"),n(Je()),n({type:""})},children:"Close"})]}):Object(gt.jsx)("div",{})};function qi(){return(qi=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function Qi(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},c=Object.keys(n);for(i=0;i<c.length;i++)t=c[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(i=0;i<c.length;i++)t=c[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function Zi(n,e){var t=n.title,r=n.titleId,c=Qi(n,["title","titleId"]);return i.createElement("svg",qi({"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"shopping-getCartValue",className:"svg-inline--fa fa-shopping-getCartValue fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",ref:e,"aria-labelledby":r},c),t?i.createElement("title",{id:r},t):null,An||(An=i.createElement("path",{fill:"current",d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})))}var nr,er,tr,ir,rr,cr,ar,or,sr,dr,br,lr,ur,pr,jr,xr,hr,fr,Or,gr,mr,wr,vr,kr,yr,Cr,Br,Tr,_r,Sr,Er,zr,Rr,Ir,Lr,Ar,Mr,Dr,Vr,Pr,Nr,Ur,Fr,Hr,Jr,Gr,Wr,$r,Kr,Xr,Yr,qr=i.forwardRef(Zi),Qr=(t.p,ut.b.div(nr||(nr=Object(lt.a)(["\n  background: ",";\n  position: fixed;  \n  top: 0; \n  left: 0;  \n  right: 0; \n  z-index: 999;\n"])),nt)),Zr=ut.b.div(er||(er=Object(lt.a)(["\n  width: 90%;\n  max-width: 1250px;\n  margin: 15px auto;\n  display: flex;\n  justify-content: space-between; \n  align-items: center;\n"]))),nc=ut.b.div(tr||(tr=Object(lt.a)(["\n  margin-right: 20px;\n\n  @media screen and (max-width: 649px) {\n    display: none;\n  }\n"]))),ec=ut.b.h1(ir||(ir=Object(lt.a)(["\n  color: ",";\n  font-size: 36px;\n  cursor: pointer;\n"])),Xe),tc=ut.b.div(rr||(rr=Object(lt.a)(["\n  display: flex;\n  \n  @media screen and (max-width: 649px) {\n    width: 100%;\n    justify-content: space-between;\n  }\n"]))),ic=ut.b.div(cr||(cr=Object(lt.a)(["\n  display: flex;\n  align-items: center;\n"]))),rc=ut.b.button(ar||(ar=Object(lt.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;  \n"]))),cc=ut.b.img(or||(or=Object(lt.a)(["\n  width: 25px;  \n  height: 25px; \n  margin-right: 15px;\n"]))),ac=ut.b.p(sr||(sr=Object(lt.a)(["\n  font-size: 16px;  \n  color: ",";\n"])),Xe),oc=ut.b.img(dr||(dr=Object(lt.a)(["\n  width: 40px;  \n  height: 40px; \n  border-radius: 50%;\n  margin-left: 15px;  \n"]))),sc=ut.b.div(br||(br=Object(lt.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 20px;  \n"]))),dc=Object(ut.b)(qr)(lr||(lr=Object(lt.a)(["\n  width: 25px;  \n  height: 25px; \n  margin-right: 10px;\n  cursor: pointer;\n"]))),bc=ut.b.div(ur||(ur=Object(lt.a)(["\n  width: 25px;  \n  height: 25px;\n  border-radius: 50%;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])),Xe),lc=ut.b.span(pr||(pr=Object(lt.a)(["\n  font-size: 16px;\n  color: ",";\n"])),nt),uc=ut.b.div(jr||(jr=Object(lt.a)(["\n  width: 90%;\n  max-width: 1250px;\n  padding: 20px 0;\n  margin: 0 auto 30px;\n  border-bottom: 1px solid ",";\n\n  @media screen and (min-width: 650px) {\n    display: none;\n  }\n"])),Ye),pc=ut.b.h1(xr||(xr=Object(lt.a)(["\n  color: ",";\n  font-size: 24px;\n  cursor: pointer;\n  width: fit-content;\n"])),Xe),jc=function(n){var e=n.children,t=Object(o.b)(),i=Object(Ge.f)(),r=Object(Ge.g)(),c=Object(o.c)((function(n){return n.cart})).totalCount,a=JSON.parse(localStorage.getItem("activeUser")),s=function(){"/cart"!==r.pathname&&i.push("/cart")},d=function(){"/catalog"!==r.pathname&&i.push("/catalog")};return Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsx)(Qr,{children:Object(gt.jsxs)(Zr,{children:[Object(gt.jsx)(nc,{children:Object(gt.jsx)(ec,{onClick:d,children:"JS Band Store"})}),Object(gt.jsxs)(tc,{children:[Object(gt.jsxs)(ic,{children:[Object(gt.jsx)(rc,{onClick:function(){return t({type:Kn})},children:Object(gt.jsx)(cc,{src:rt})}),Object(gt.jsx)(ac,{children:a.name}),Object(gt.jsx)(oc,{src:a.avatar})]}),Object(gt.jsxs)(sc,{children:[Object(gt.jsx)(dc,{fill:"#fff",onClick:s}),Object(gt.jsx)(bc,{onClick:s,children:Object(gt.jsx)(lc,{children:c>9?"9+":c})})]})]})]})}),Object(gt.jsx)(uc,{children:Object(gt.jsx)(pc,{onClick:d,children:"JS Band Store"})}),Object(gt.jsx)($t,{}),e]})},xc=ut.b.div(hr||(hr=Object(lt.a)(["\n  height: calc(100vh - 79px);\n  overflow: auto;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n\n  @media screen and (max-width: 650px) {\n    height: calc(100vh - 70px);\n  }\n"]))),hc=ut.b.div(fr||(fr=Object(lt.a)(["\n  width: 90%;\n  max-width: 1250px;\n  margin: 0 auto 15px;\n\n  @media screen and (min-width: 650px) {\n    padding-top: 20px;\n  }\n"]))),fc=ut.b.div(Or||(Or=Object(lt.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))),Oc=ut.b.div(gr||(gr=Object(lt.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 50px;\n"]))),gc=ut.b.img(mr||(mr=Object(lt.a)(["\n  width: 40px;\n"]))),mc=ut.b.p(wr||(wr=Object(lt.a)(["\n  font-size: 16px;\n  margin-top: 10px;\n"]))),wc=mt((function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.books})),t=e.allBooks,r=e.isLoading,c=Object(i.useState)([]),a=Object(We.a)(c,2),s=a[0],d=a[1];return Object(i.useEffect)((function(){n(Pe()),n(function(){var n=Object(ye.a)(ke.a.mark((function n(e){var t;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Re.getAllBooks(e);case 2:(t=n.sent)&&t.data&&e((i=t.data,{type:ie,payload:i}));case 4:case"end":return n.stop()}var i}),n)})));return function(e){return n.apply(this,arguments)}}())}),[]),Object(i.useEffect)((function(){d(t)}),[t]),Object(i.useEffect)((function(){s.length&&r&&n(Ne())}),[s,r]),Object(gt.jsx)(xc,{children:Object(gt.jsx)(jc,{children:r?Object(gt.jsx)(Dt,{}):Object(gt.jsxs)(hc,{children:[Object(gt.jsx)(ii,{filterBooksFnc:d}),s.length?Object(gt.jsx)(fc,{children:s.map((function(n){return Object(gt.jsx)(ui,{book:n},n.id)}))}):Object(gt.jsxs)(Oc,{children:[Object(gt.jsx)(gc,{src:ot}),Object(gt.jsx)(mc,{children:"No books"})]})]})})})})),vc=ut.b.div(vr||(vr=Object(lt.a)(["\n  height: calc(100vh - 79px);\n  overflow: auto;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n\n  @media screen and (max-width: 650px) {\n    height: calc(100vh - 70px);\n  }\n"]))),kc=ut.b.div(kr||(kr=Object(lt.a)(["\n  width: 90%;\n  max-width: 1250px;\n  margin: 20px auto;\n"]))),yc=ut.b.h2(yr||(yr=Object(lt.a)(["\n  font-size: 30px;\n  margin-bottom: 30px;\n  max-height: 90px;\n  overflow: auto;\n\n  @media screen and (max-width: 649px) {\n    font-size: 24px;\n  }\n"]))),Cc=ut.b.div(Cr||(Cr=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 599px) {\n    flex-direction: column;\n  }\n"]))),Bc=ut.b.div(Br||(Br=Object(lt.a)(["\n  width: 47%;\n  display: flex;\n  justify-content: space-between;\n\n  @media screen and (max-width: 990px) {\n    flex-direction: column;\n  }\n\n  @media screen and (max-width: 599px) {\n    display: none;\n  }\n"]))),Tc=ut.b.div(Tr||(Tr=Object(lt.a)(["\n  width: 48%;\n\n  @media screen and (max-width: 990px) {\n    width: 100%;\n  }\n"]))),_c=ut.b.div(_r||(_r=Object(lt.a)(["\n  width: 100%;\n  height: 300px;\n  background: ",";\n\n  @media screen and (max-width: 990px) {\n    width: 70%;\n  }\n\n  @media screen and (max-width: 690px) {\n    width: 100%;\n  }\n\n  @media screen and (max-width: 599px) {\n    width: 48%;\n  }\n\n  @media screen and (max-width: 500px) {\n    width: 100%;\n    max-width: 250px;\n    margin: 0 auto;\n  }\n"])),(function(n){return'url("'.concat(n.cover,'") no-repeat 50% 50%/cover')})),Sc=ut.b.p(Sr||(Sr=Object(lt.a)(["\n  font-size: 16px;\n  margin-top: 15px;\n  font-weight: 600;\n  max-height: 70px;\n  overflow: auto;\n\n  @media screen and (max-width: 599px) {\n    margin-top: 0;\n  }\n\n  @media screen and (max-width: 500px) {\n    margin-top: 20px;\n  }\n"]))),Ec=ut.b.p(Er||(Er=Object(lt.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  margin-top: 10px;\n"]))),zc=ut.b.div(zr||(zr=Object(lt.a)(["\n  width: 48%;\n\n  @media screen and (max-width: 990px) {\n    width: 100%;\n  }\n"]))),Rc=ut.b.p(Rr||(Rr=Object(lt.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  max-height: 400px;\n  overflow: auto;\n  margin-top: 10px;\n"]))),Ic=ut.b.span(Ir||(Ir=Object(lt.a)(["\n  font-weight: 800;\n  margin-right: 5px;\n"]))),Lc=ut.b.p(Lr||(Lr=Object(lt.a)(["\n  font-size: 14px;\n  font-weight: 600;\n  \n  @media screen and (max-width: 990px) {\n    margin-top: 10px;\n  }\n"]))),Ac=ut.b.div(Ar||(Ar=Object(lt.a)(["\n  width: 47%;\n\n  @media screen and (max-width: 599px) {\n    margin: 30px auto;\n    width: 100%;\n    max-width: 400px;\n  }\n"]))),Mc=ut.b.div(Mr||(Mr=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n  \n  @media screen and (min-width: 600px) {\n    display: none;\n  }\n\n  @media screen and (max-width: 500px) {\n    flex-direction: column;\n  }\n"]))),Dc=ut.b.div(Dr||(Dr=Object(lt.a)(["\n  width: 48%;\n\n  @media screen and (max-width: 500px) {\n    width: 100%;\n  }\n"]))),Vc=function(){var n=Object(o.b)(),e=Object(Ge.g)().pathname.slice(9),t=Object(o.c)((function(n){return n.books})),r=t.currentBookInfo,c=t.isLoading;Object(i.useEffect)((function(){n(function(n){return function(){var e=Object(ye.a)(ke.a.mark((function e(t){var i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Pe()),e.next=3,Re.getCurrentBookInfo(n,t);case 3:(i=e.sent)&&i.data&&(t((r=i.data,{type:re,payload:r})),t(Ne()));case 5:case"end":return e.stop()}var r}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))}),[]);var a=0===Object.keys(r).length,s=function(){if(!c&&!a)return Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsxs)(Sc,{children:[Object(gt.jsx)(Ic,{children:"Author:"})," ",r.author]}),Object(gt.jsxs)(Ec,{children:[Object(gt.jsx)(Ic,{children:"Level:"})," ",r.level]})]})},d=function(){if(!c&&!a)return Object(gt.jsxs)(zc,{children:[Object(gt.jsxs)(Lc,{children:[Object(gt.jsx)(Ic,{children:"Tags:"}),r.tags.join(", ")]}),Object(gt.jsxs)(Rc,{children:[Object(gt.jsx)(Ic,{children:"Description:"}),r.description]})]})};return Object(gt.jsx)(vc,{children:Object(gt.jsx)(jc,{children:c||a?Object(gt.jsx)(Dt,{}):Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsxs)(kc,{children:[Object(gt.jsx)(yc,{children:r.title}),Object(gt.jsxs)(Cc,{children:[Object(gt.jsxs)(Bc,{children:[Object(gt.jsxs)(Tc,{children:[Object(gt.jsx)(_c,{cover:r.cover}),Object(gt.jsx)(s,{})]}),Object(gt.jsx)(d,{})]}),Object(gt.jsxs)(Mc,{children:[Object(gt.jsx)(_c,{cover:r.cover}),Object(gt.jsxs)(Dc,{children:[Object(gt.jsx)(s,{}),Object(gt.jsx)(d,{})]})]}),Object(gt.jsx)(Ac,{children:Object(gt.jsx)(ki,{})})]})]}),Object(gt.jsx)(Ni,{})]})})})},Pc=ut.b.div(Vr||(Vr=Object(lt.a)(["\n  height: calc(100vh - 79px);\n  overflow: auto;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n\n  @media screen and (max-width: 650px) {\n    height: calc(100vh - 70px);\n  }\n"]))),Nc=ut.b.div(Pr||(Pr=Object(lt.a)(["\n  margin-top: 110px;\n  text-align: center;\n  \n  @media screen and (max-width: 649px) {\n    margin-top: 70px;\n  }\n"]))),Uc=Object(ut.b)(qr)(Nr||(Nr=Object(lt.a)(["\n  width: 40px;\n"]))),Fc=ut.b.p(Ur||(Ur=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 600;\n  margin-top: 15px;\n"]))),Hc=ut.b.div(Fr||(Fr=Object(lt.a)(["\n  width: 90%;\n  max-width: 1250px;\n  margin: 0 auto 15px;\n\n  @media screen and (min-width: 650px) {\n    padding-top: 30px;\n  }\n"]))),Jc=ut.b.div(Hr||(Hr=Object(lt.a)(["\n  width: fit-content;\n  margin-left: calc(100% - 110.88px);\n\n  @media screen and (max-width: 385px) {\n    margin-left: calc(100% - 100.77px);\n  }\n"]))),Gc=ut.b.div(Jr||(Jr=Object(lt.a)(["\n  margin-top: 40px;\n"]))),Wc=ut.b.div(Gr||(Gr=Object(lt.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 30px;\n  \n  @media screen and (max-width: 450px) {\n    flex-direction: column-reverse;\n    align-items: flex-end;\n  }\n"]))),$c=ut.b.div(Wr||(Wr=Object(lt.a)(["\n  width: fit-content;\n\n  @media screen and (max-width: 450px) {\n    margin-top: 15px;\n  }\n"]))),Kc=ut.b.div($r||($r=Object(lt.a)(["\n  display: flex;\n"]))),Xc=ut.b.p(Kr||(Kr=Object(lt.a)(["\n  font-size: 16px;\n  font-weight: 700;\n  margin-left: 15px;\n  \n  &:first-of-type {\n    margin-left: 0;\n  }\n  \n  @media screen and (max-width: 649px) {\n    font-size: 14px;\n  }\n"]))),Yc=function(){var n=Object(o.b)(),e=Object(o.c)((function(n){return n.cart})),t=e.addedBooks,i=e.totalCount,r=e.totalPrice,c=e.isLoading,a=Object.entries(t).map((function(n){return n[1].id=n[0],n[1]}));return Object(gt.jsx)(Pc,{children:Object(gt.jsxs)(jc,{children:[c?Object(gt.jsx)(Dt,{}):Object(gt.jsx)(Hc,{children:a.length?Object(gt.jsxs)(gt.Fragment,{children:[Object(gt.jsx)(Jc,{children:Object(gt.jsx)(_t,{btnType:"purple",onClick:function(){return n((e=a,function(){var n=Object(ye.a)(ke.a.mark((function n(t){var i;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:be}),n.next=3,Re.purchase(e,t);case 3:i=n.sent,t({type:"",payload:i.data.message}),t({type:le}),t({type:ne});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));var e},children:"Purchase"})}),Object(gt.jsx)(Gc,{children:a.map((function(n){return Object(gt.jsx)(Li,{allBooks:a,book:n},n.id)}))}),Object(gt.jsxs)(Wc,{children:[Object(gt.jsx)($c,{children:Object(gt.jsx)(_t,{btnType:"purple",onClick:function(){return n({type:Yn})},children:"Empty Trash"})}),Object(gt.jsxs)(Kc,{children:[Object(gt.jsxs)(Xc,{children:["Total count: ",i]}),Object(gt.jsxs)(Xc,{children:["Total price: ",r,"$"]})]})]}),Object(gt.jsx)(Vi,{})]}):Object(gt.jsxs)(Nc,{children:[Object(gt.jsx)(Uc,{fill:"#464646"}),Object(gt.jsx)(Fc,{children:"Cart empty..."})]})}),Object(gt.jsx)(Yi,{})]})})},qc=ut.b.div(Xr||(Xr=Object(lt.a)(["\n  position: absolute;\n  width: 100vw;\n  top: 40%;  \n  padding: 0 20px;\n  box-sizing: border-box;\n"]))),Qc=ut.b.h2(Yr||(Yr=Object(lt.a)(["\n  font-size: 25px;\n  font-weight: 700;\n  text-align: center;\n"]))),Zc=function(){var n=Object(Ge.f)(),e=Object(Ge.g)(),t=Object(o.c)((function(n){return n.login})).isLoggedIn,r=e.pathname.slice(0,8);return Object(i.useEffect)((function(){"/"===e.pathname||"/login"===e.pathname&&t?n.push("/catalog"):("/catalog"===r&&!t||"/cart"===e.pathname)&&n.push("/login")}),[]),Object(gt.jsx)(qc,{children:Object(gt.jsx)(Qc,{children:"Oooops... Page is not found. Maybe it is not what you are searching"})})};var na,ea=function(){return Object(o.c)((function(n){return n.login})).isLoggedIn?Object(gt.jsxs)(Ge.c,{children:[Object(gt.jsx)(Ge.a,{path:"/cart",component:Yc}),Object(gt.jsx)(Ge.a,{path:"/catalog/:id",component:Vc}),Object(gt.jsx)(Ge.a,{path:"/catalog",component:wc}),Object(gt.jsx)(Ge.a,{component:Zc})]}):Object(gt.jsxs)(Ge.c,{children:[Object(gt.jsx)(Ge.a,{path:"/login",component:Ht}),Object(gt.jsx)(Ge.a,{component:Zc})]})},ta=Object(ut.a)(na||(na=Object(lt.a)(["\n  * {\n    font-family: 'Open Sans', sans-serif;\n    padding: 0;\n    margin: 0;\n    outline: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n\n  body,\n  select,\n  button {\n    color: ",";\n    background: ",";\n  }\n  \n  ::-webkit-scrollbar {\n    width: 5px;\n    height: 8px;\n    background-color: rgba(0, 0, 0, .1);\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, .4);\n  }\n"])),Ye,Ke),ia=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,79)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),i(n),r(n),c(n),a(n)}))},ra=Object(d.e)(we,Object(d.d)(Object(d.a)(b.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()||d.d));a.a.render(Object(gt.jsx)(r.a.StrictMode,{children:Object(gt.jsx)(s.a,{children:Object(gt.jsxs)(o.a,{store:ra,children:[Object(gt.jsx)(ta,{}),Object(gt.jsx)(ea,{})]})})}),document.getElementById("root")),ia()}},[[78,1,2]]]);
//# sourceMappingURL=main.21b54f88.chunk.js.map